<app-title-bar [Title]="title"></app-title-bar>

<div class="d-flex justify-content-center mt-5">
    <!-- section of order details-->

    <div class="d-flex flex-column w-50">

        <!--image of product in the left side-->
        <div class="d-flex mb-lg-3" *ngFor="let cart of shoppingCartDetails;">
            
            <img src="{{ cart.url }}" alt="" class="rounded-2">

            <!--image of product in the left side-->
            <div class="d-flex flex-column mx-4 justify-content-center">
                <h4>{{ cart.name }}</h4>
                <span>price :{{ cart.price | currency }}</span>  
                <div class="row d-flex">
                    <label class="col-sm-2  col-form-label">Amount</label>
                    <select class="form-control d-inline-flex" name="count" [(ngModel)]="cart.count" #count="ngModel" (change)="updatePrice(cart.id ,cart.price, count.value)">
                        <option value="{{ item }}" *ngFor="let item of items">{{ item }}</option>
                    </select>
                </div>
                <p>total : {{ cart.total | currency}}</p>
            </div>
        </div>
    </div>
    
    <!-- section of payment checkout-->
    <div class="d-flex flex-column w-25 form-control border-0 p-lg-4">
        <h4 class="text-center mb-4"><u>Credit Details</u></h4>

        <form #userForm="ngForm">
            <h5 class="text-primary mb-2 d-flex justify-content-center align-content-center" [(ngModel)]="totalPrice" name="totalPriceCart">
                Total price {{ totalPrice | currency }}
            </h5>
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Full Name</label>
                <input type="text" class="form-control" placeholder="Enter Your Name" #userName="ngModel" required ngModel name="userName">
            </div>
            
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Address</label>
                <input type="text" class="form-control ng-valide ng-invalide" placeholder="Enter Your Address" required name="address" #address="ngModel" ngModel>
            </div>

            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Credit Card number</label>
                <input class="form-control ng-valide ng-invalide" [maxLength]="6" placeholder="Digit-6" name="credit" #credit="ngModel" ngModel>
                <span class="text-danger" *ngIf="credit.value.length < 6">Credit number must be 6 number</span>
            </div>
            <div class="mb-lg-1 d-flex justify-content-end">
                <button type="submit" [routerLink]="['/confirmation', totalPrice]" class="btn btn-primary mt-2">Submit</button>
            </div>
        </form>
    </div>
</div>

